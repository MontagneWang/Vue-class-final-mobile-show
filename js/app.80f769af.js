(function(){"use strict";var t={4001:function(t,e,n){var o=n(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("tabbar")],1)},i=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabbar"},[e("router-view"),e("nav",[e("router-link",{attrs:{to:"/"}},[t._v("首页")]),t._v("  |  "),e("router-link",{attrs:{to:"/about"}},[t._v("我的")])],1)],1)},r=[],l={name:"tabbar"},c=l,p=n(1001),u=(0,p.Z)(c,s,r,!1,null,"a0d3dbfc",null),d=u.exports,m={components:{Tabbar:d}},h=m,f=(0,p.Z)(h,a,i,!1,null,null,null),v=f.exports,_=n(2631),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("myheader"),e("index"),e("backtop")],1)},w=[],x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"myheader",class:t.classname},[e("searchbar")],1)},y=[],g=function(){var t=this;t._self._c;return t._m(0)},C=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("input",{staticClass:"searchbar",attrs:{type:"text",placeholder:"     搜索目的地/折扣/关键字"}})])}],k={name:"searchbar",components:{}},$=k,T=(0,p.Z)($,g,C,!1,null,"13a67f0c",null),L=T.exports,Z={name:"myheader",components:{searchbar:L},data(){return{classname:""}},mounted(){window.addEventListener("scroll",this.throttle(this.handleScroll,200))},methods:{throttle(t,e){let n,o,a=arguments;return function i(){let s=this,r=Date.now();o||(o=r),n&&clearTimeout(n),r-o>=e?(t.apply(s,a),o=r):n=setTimeout((function(){i.apply(s,a)}),50)}},handleScroll(){let t=document.body.scrollTop||document.documentElement.scrollTop;this.classname=t>300?"active":""}},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)}},D=Z,M=(0,p.Z)(D,x,y,!1,null,"1d8ae64e",null),P=M.exports,A=function(){var t=this,e=t._self._c;return e("swiper",{staticClass:"my_swiper",attrs:{options:t.swiperOption},nativeOn:{mouseover:function(e){return t.handleAuto(!0)},mouseleave:function(e){return t.handleAuto(!1)}}},[t._l(t.picList,(function(t,n){return e("swiper-slide",{key:n},[e("img",{attrs:{src:t.pic_src,alt:"","data-path":t.pic_src,"data-yaya":"图片"}})])})),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},I=[],S=(n(7658),{name:"myswiper",components:{},data(){return{picList:[],swiperOption:{direction:"horizontal",slidesPerView:1,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},autoplay:{delay:1e3,disableOnInteraction:!1},loop:!1,grabCursor:!0}}},methods:{handleAuto(t){let e=document.querySelector(".my_swiper").swiper;t?e.autoplay.stop():e.autoplay.start()}},mounted(){this.$axios.get("https://www.imooc.com/api/mall-wepApp/index/slider").then((({data:{data:t}})=>{for(let e=0;e<t.length;e++)this.picList.push({pic_src:t[e]["url"]})})).catch((t=>{console.dir(t)}))}}),O=S,E=(0,p.Z)(O,A,I,!1,null,"23e9200d",null),q=E.exports,z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index"},[e("myswiper"),e("flex"),e("count")],1)},G=[],j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex"},[e("ul",t._l(t.items,(function(n){return e("li",{staticClass:"insideBox"},[e("a",{attrs:{href:"#"}},[e("img",{attrs:{src:n.url,width:"100%",alt:""}}),e("span",[t._v(t._s(n.text))])])])})),0)])},H=[],B={name:"flex",data(){return{items:[]}},mounted(){this.$axios.get("https://www.imooc.com/api/mall-wepApp/index/nav").then((({data:{data:t}})=>{for(let e=0;e<t.length;e++)this.items.push({url:t[e]["url"],text:t[e]["text"]})})).catch((t=>{console.dir(t)}))}},N=B,V=(0,p.Z)(N,j,H,!1,null,"17b91678",null),F=V.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"count"},[e("div",[t._v(" 精选折扣 ")]),e("ul",t._l(t.items,(function(n){return e("li",{staticClass:"insideBox"},[e("a",{attrs:{href:"#"}},[e("img",{attrs:{src:n.url,width:"100%",alt:""}}),e("span",{staticClass:"title"},[t._v(t._s(n.title))]),e("span",{staticClass:"price"},[t._v(t._s(n.price)+"元起")])])])})),0)])},R=[],U={name:"count",data(){return{items:[]}},computed:{},watch:{},methods:{},mounted(){this.$axios.get("https://www.imooc.com/api/mall-wepApp/index/product?icode=J351519BC12ED655F").then((({data:{data:t}})=>{for(let e=0;e<t.length;e++)this.items.push({url:t[e]["url"],title:t[e]["title"],price:t[e]["price"]})})).catch((t=>{console.dir(t)}))}},W=U,K=(0,p.Z)(W,J,R,!1,null,"12329bee",null),Q=K.exports,X={name:"index",components:{myswiper:q,flex:F,count:Q}},Y=X,tt=(0,p.Z)(Y,z,G,!1,null,"29dd615c",null),et=tt.exports,nt=function(){var t=this,e=t._self._c;return e("button",{staticClass:"backtop-layout",class:t.classname,attrs:{disabled:!t.classname},on:{click:t.backtop}},[e("span",[t._v("顶")])])},ot=[],at={name:"backtop",data(){return{classname:""}},mounted(){window.addEventListener("scroll",this.throttle(this.handleScroll,200))},methods:{throttle(t,e){let n,o,a=arguments;return function i(){let s=this,r=Date.now();o||(o=r),n&&clearTimeout(n),r-o>=e?(t.apply(s,a),o=r):n=setTimeout((function(){i.apply(s,a)}),50)}},handleScroll(){let t=document.body.scrollTop||document.documentElement.scrollTop;this.classname=t>300?"active":""},backtop(){let t=document.documentElement.scrollTop||document.body.scrollTop,e=1;const n=setInterval((()=>{document.body.scrollTop=document.documentElement.scrollTop=t-=e,e+=2,t<=0&&clearInterval(n)}),10)}},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)}},it=at,st=(0,p.Z)(it,nt,ot,!1,null,"0ecb0882",null),rt=st.exports,lt={name:"HomeView",components:{myheader:P,index:et,backtop:rt,tabbar:d,myswiper:q}},ct=lt,pt=(0,p.Z)(ct,b,w,!1,null,null,null),ut=pt.exports,dt=function(){var t=this,e=t._self._c;return e("div",[e("myheader"),e("about"),e("backtop")],1)},mt=[],ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("div",{staticClass:"intro"},[t._m(0),e("br"),t._m(1),e("p",[t._v("项目使用 Vue 构建，已完成包括组件化开发在内的全部要求")]),e("p",[t._v("已适配移动端设备，响应式尺寸在最小的 320 px 到最大的 768 px")]),e("p",[t._v("源码在 source 文件夹中")]),e("p",[t._v("进入该文件夹后您可以在命令行工具中执行 npm run start")]),e("p",[t._v("项目将自动在浏览器中打开")]),e("p",[t._v("（为了避免 npm 库的下载问题，请原谅我把 node_modules 也放在了源码里一并上交）")]),e("br"),e("p",[t._v("打包好的文件在 dist 文件夹中")]),e("p",[t._v("由于 Vue 打包后的文件需要放在服务器上运行")]),e("p",[t._v("您也可以通过网页链接进行访问查看（前八位是我的学号）")]),t._m(2),e("br"),t._m(3),e("p",[t._v("由于需要包含Ajax网络请求与数据获取渲染")]),e("p",[t._v("所以决定设计一个“天气预报”界面")]),e("p",[t._v("已完成包括响应式界面在内的所有需求")]),e("p",[t._v("响应式尺寸在最小的 320 px 到最大的 1980 px")]),e("p",[t._v("注：")]),e("p",[t._v("天气预报需要定位与网络，而移动端可能由于权限问题导致定位失败")]),e("p",[t._v("因此在定位失败时默认为杭州钱塘区；定位成功则修改为最新地区")]),e("hr"),e("nav",{staticClass:"topInfo"},[e("Info",{attrs:{info:t.weatherInfo[0]}}),e("Map")],1),e("footer",{staticClass:"future"},[e("Abbr",{attrs:{info:t.weatherInfo[1]}}),e("Abbr",{attrs:{info:t.weatherInfo[2]}}),e("Chart",{attrs:{info:t.chartInfo}})],1)])])},ft=[function(){var t=this,e=t._self._c;return e("b",[e("p",[t._v("姓名：王翱  学号：21331225")])])},function(){var t=this,e=t._self._c;return e("b",[e("p",[t._v("项目说明：")])])},function(){var t=this,e=t._self._c;return e("p",[t._v("网址： "),e("a",{attrs:{href:"https://21331225.frontend.montagnewang.com",target:"_blank"}},[t._v(" 21331225.frontend.montagnewang.com ")])])},function(){var t=this,e=t._self._c;return e("b",[e("p",[t._v("下方内容是作业里的“自主设计”部分")])])}],vt=function(){var t=this,e=t._self._c;return t.info?e("section",{staticClass:"mainInfo border"},[e("div",{staticClass:"top"},[e("div",{staticClass:"border",attrs:{id:"location"},domProps:{textContent:t._s(`📍  ${t.adm1} ${t.adm2} ${t.name}`)}},[t._v("📍 定位中")]),e("span",{staticClass:"border",attrs:{onclick:"location.reload();"}},[t._v("🔄更新数据")]),e("div",{staticClass:"border",attrs:{id:"currentTime"}},[t._v(t._s(t.now_time))])]),e("div",{staticClass:"border",attrs:{id:"weatherIcon"}},[e("span",{attrs:{id:"statusNow",title:t.closeText},domProps:{innerHTML:t._s(`<i class=qi-${t.icon}></i>\n ${t.text} ${t.temp} ℃`)}},[e("i",{staticClass:"qi-100"}),t._v(" 正在测量 ")]),e("span",{staticStyle:{"font-size":"14px",width:"100%"},attrs:{id:"feelLike",title:t.feelText},domProps:{textContent:t._s(`体感温度 ${t.feelsLike} ℃`)}},[t._v(" 体感温度 测量中 ")])]),e("div",{staticClass:"otherInfo border"},[e("span",[e("p",{attrs:{id:"maxTemp"}},[t._v(t._s(`🔼  ${t.info.tempMax} ℃`))]),e("p",{attrs:{id:"minTemp"}},[t._v(t._s(`🔽  ${t.info.tempMin} ℃`))])]),e("span",[e("p",{attrs:{id:"now.windDir"}},[t._v(t._s(t.info.windDirDay))]),e("p",{attrs:{id:"now.windScale"}},[t._v(t._s(`${t.info.windScaleDay}  级`))])]),e("span",{attrs:{id:"now.vis"}},[t._v("能见度"),e("br"),t._v(t._s(`\n ${t.info.vis} km`))]),e("span",{attrs:{id:"now.humidity"}},[t._v("相对湿度"),e("br"),t._v(t._s(`\n ${t.info.humidity} %`))])])]):t._e()},_t=[],bt=n(3822),wt={name:"Info",props:["info"],data(){return{now_time:(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString(),icon:"",text:"",temp:"",feelsLike:"00",resGeo:"",adm1:"",adm2:"",name:"",closeText:"",feelText:""}},computed:{...(0,bt.rn)(["geoLocation"])},methods:{send(){Promise.all([this.$axios.get(`https://devapi.qweather.com/v7/weather/now?location=${this.geoLocation}&key=2175cc3e56c3447bb9476001f1513df0`),this.$axios.get(`https://geoapi.qweather.com/v2/city/lookup?location=${this.geoLocation}&key=2175cc3e56c3447bb9476001f1513df0`),this.$axios.get(`https://devapi.qweather.com/v7/indices/1d?type=3,8&location=${this.geoLocation}&key=2175cc3e56c3447bb9476001f1513df0`)]).then((t=>{let{data:e}=t[0],{now:{icon:n,text:o,temp:a,feelsLike:i}}=e,{data:{location:s}}=t[1],[{adm1:r,adm2:l,name:c}]=s,{data:{daily:p}}=t[2],[{text:u},{text:d}]=p;this.icon=n,this.text=o,this.temp=a,this.feelsLike=i,this.resGeo=s,this.adm1=r,this.adm2=l,this.name=c,this.closeText=u,this.feelText=d})).catch((t=>{console.log("请求失败，Api 接口请求次数已达今日上限"),console.dir(t)}))}},watch:{geoLocation:{handler(){this.send()}}},mounted(){this.timer=setInterval((()=>{this.now_time=(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString()}),1e3),this.send()},beforeDestroy(){this.timer&&clearInterval(this.timer)}},xt=wt,yt=(0,p.Z)(xt,vt,_t,!1,null,"5eba1481",null),gt=yt.exports,Ct=function(){var t=this;t._self._c;return t._m(0)},kt=[function(){var t=this,e=t._self._c;return e("aside",{staticClass:"map border"},[e("div",{attrs:{id:"container"}})])}],$t=n(7634),Tt=n.n($t),Lt={name:"Map",methods:{...(0,bt.OI)(["CHANGE"]),initMap(){Tt().load({key:"0f680fc17ef03445c8e5548cc28a7225",version:"2.0",plugins:["AMap.Geolocation"]}).then((t=>{let e=new t.Map("container",{resizeEnable:!0});t.plugin("AMap.Geolocation",(()=>{let n=new t.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonPosition:"RB",buttonOffset:new t.Pixel(10,20),zoomToAccuracy:!0});e.addControl(n),n.getCurrentPosition(((t,e)=>{this.$store.commit("CHANGE",[e.position.lng,e.position.lat])}))}))})).catch((t=>{console.log(t)}))}},mounted(){this.initMap()}},Zt=Lt,Dt=(0,p.Z)(Zt,Ct,kt,!1,null,null,null),Mt=Dt.exports,Pt=function(){var t=this,e=t._self._c;return t.info?e("div",{staticClass:"border",attrs:{id:"tomorrow"}},[e("span",{staticClass:"fxDate",domProps:{textContent:t._s(`${t.info.fxDate}`)}},[t._v(" 日期 ")]),e("span",{staticClass:"iconDay",domProps:{innerHTML:t._s(`<i class=qi-${t.info.iconDay}></i>  ${t.info.textDay}`)}},[t._v(" 图标文字 ")]),e("span",{staticClass:"tempMax",domProps:{textContent:t._s(`🔼  ${t.info.tempMax} ℃   🔽  ${t.info.tempMin} ℃`)}},[t._v(" 高低温度 ")]),e("span",{staticClass:"tempMin",domProps:{textContent:t._s(`${t.info.windDirDay}   ${t.info.windScaleDay} 级`)}},[t._v(" 风向风力 ")])]):t._e()},At=[],It={name:"Abbr",props:["info"]},St=It,Ot=(0,p.Z)(St,Pt,At,!1,null,"8f0d7748",null),Et=Ot.exports,qt=function(){var t=this,e=t._self._c;return t.info?e("div",{staticClass:"border darkmode-ignore",attrs:{id:"chart"}},[t._v(" 图表正在加载 …… ")]):t._e()},zt=[],Gt={name:"Chart",props:["info"],data(){return{}},computed:{},watch:{},methods:{callEcharts(t,e,n,o,a,i){let s=echarts.init(document.getElementById("chart")),r={grid:{x:30,y:35,x2:20,y2:25,borderWidth:1},title:{text:" 气温走向"},xAxis:{data:["今天","明天","后天"]},yAxis:{scale:!0},legend:{data:["最高温度","最低温度"]},series:[{name:"最高温度",type:"line",data:[t,e,n],label:{show:!0,position:"top",textStyle:{fontSize:16}}},{name:"最低温度",type:"line",data:[o,a,i],label:{show:!0,position:"top",textStyle:{fontSize:12}},lineStyle:{normal:{color:"green",type:"dashed"}}}]};s.setOption(r),window.onresize=function(){s.resize()}}},updated(){this.callEcharts(this.info[0],this.info[1],this.info[2],this.info[3],this.info[4],this.info[5])}},jt=Gt,Ht=(0,p.Z)(jt,qt,zt,!1,null,"790947d2",null),Bt=Ht.exports,Nt={name:"about",components:{Info:gt,Map:Mt,Abbr:Et,Chart:Bt},data(){return{weatherInfo:[],chartInfo:[]}},computed:{...(0,bt.rn)(["geoLocation"])},watch:{geoLocation:{handler(){this.send()}}},methods:{send(){this.$axios.get(`https://devapi.qweather.com/v7/weather/3d?location=${this.geoLocation}&key=2175cc3e56c3447bb9476001f1513df0`).then((({data:{daily:t}})=>{this.weatherInfo=t,this.chartInfo=[t[0].tempMax,t[1].tempMax,t[2].tempMax,t[0].tempMin,t[1].tempMin,t[2].tempMin]})).catch((t=>{console.log("请求失败，Api 接口请求次数已达今日上限"),console.dir(t)}))}},mounted(){console.log("地图接口使用 [高德] ，天气接口使用 [和风天气] 。\n您可以点击 [🔄更新天气] 按钮获取最新数据，也可以点击右下角的 [🌓] 按钮进行模式切换。"),this.send()}},Vt=Nt,Ft=(0,p.Z)(Vt,ht,ft,!1,null,null,null),Jt=Ft.exports,Rt={name:"",components:{Myswiper:q,myheader:P,about:Jt,backtop:rt,tabbar:d},data(){return{}},computed:{},watch:{},methods:{},mounted(){},beforeUpdate(){},updated(){},beforeDestroy(){},activated(){}},Ut=Rt,Wt=(0,p.Z)(Ut,dt,mt,!1,null,"dabf23e6",null),Kt=Wt.exports;o.ZP.use(_.ZP);const Qt=[{path:"/",name:"home",component:ut},{path:"/about",name:"about",component:Kt}],Xt=new _.ZP({routes:Qt});var Yt=Xt;o.ZP.use(bt.ZP);var te=new bt.ZP.Store({state:{geoLocation:"101210111"},mutations:{CHANGE(t,e){t.geoLocation=e[0]+","+e[1]}}}),ee=n(551),ne=n.n(ee),oe=n(4311);o.ZP.use(ne()),o.ZP.prototype.$axios=oe.Z,o.ZP.config.productionTip=!1,new o.ZP({router:Yt,store:te,render:t=>t(v)}).$mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,i){if(!o){var s=1/0;for(p=0;p<t.length;p++){o=t[p][0],a=t[p][1],i=t[p][2];for(var r=!0,l=0;l<o.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(r=!1,i<s&&(s=i));if(r){t.splice(p--,1);var c=a();void 0!==c&&(e=c)}}return e}i=i||0;for(var p=t.length;p>0&&t[p-1][2]>i;p--)t[p]=t[p-1];t[p]=[o,a,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,i,s=o[0],r=o[1],l=o[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var p=l(n)}for(e&&e(o);c<s.length;c++)i=s[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(p)},o=self["webpackChunkvue_class_final_mobile"]=self["webpackChunkvue_class_final_mobile"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4001)}));o=n.O(o)})();
//# sourceMappingURL=app.80f769af.js.map